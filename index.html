
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <title>Read Me Â· react-woodworm</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.0">
        <meta name="author" content="Robin Frischmann <robin@rofrischmann.de>">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="docs/Introduction.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter active" data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Read Me
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="docs/Introduction.html">
            
                <a href="docs/Introduction.html">
            
                    
                    1. Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="docs/introduction/Motivation.html">
            
                <a href="docs/introduction/Motivation.html">
            
                    
                    1.1. Motivation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="docs/introduction/How.html">
            
                <a href="docs/introduction/How.html">
            
                    
                    1.2. How It Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="docs/introduction/Caveats.html">
            
                <a href="docs/introduction/Caveats.html">
            
                    
                    1.3. Caveats
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="docs/introduction/Comparison.html">
            
                <a href="docs/introduction/Comparison.html">
            
                    
                    1.4. Comparison
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="docs/introduction/Ecosystem.html">
            
                <a href="docs/introduction/Ecosystem.html">
            
                    
                    1.5. Ecosystem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="docs/Concepts.html">
            
                <a href="docs/Concepts.html">
            
                    
                    2. Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="docs/concepts/Model.html">
            
                <a href="docs/concepts/Model.html">
            
                    
                    2.1. Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="docs/concepts/Actions.html">
            
                <a href="docs/concepts/Actions.html">
            
                    
                    2.2. Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="docs/concepts/Effects.html">
            
                <a href="docs/concepts/Effects.html">
            
                    
                    2.3. Effects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="docs/concepts/Middleware.html">
            
                <a href="docs/concepts/Middleware.html">
            
                    
                    2.4. Middleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="docs/Examples.html">
            
                <a href="docs/Examples.html">
            
                    
                    3. Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="docs/examples/Counter.html">
            
                <a href="docs/examples/Counter.html">
            
                    
                    3.1. Counter
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="docs/API.html">
            
                <a href="docs/API.html">
            
                    
                    4. API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="docs/exaapimples/createStore.md">
            
                <span>
            
                    
                    4.1. createStore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="docs/api/Provider.html">
            
                <a href="docs/api/Provider.html">
            
                    
                    4.2. Provider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="docs/api/Consumer.html">
            
                <a href="docs/api/Consumer.html">
            
                    
                    4.3. Consumer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Read Me</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="react-woodworm">react-woodworm</h1>
<p>Just like a woodworm, react-woodworm is super lightweight at <strong>only 1kb gzipped</strong>.<br>
It uses React&apos;s new context feature and therefore requires React 16.3 or higher.</p>
<p><img alt="TravisCI" src="https://travis-ci.org/rofrischmann/react-woodworm.svg?branch=master"> <a href="https://codeclimate.com/github/rofrischmann/react-woodworm/coverage" _target="blank"><img alt="Test Coverage" src="https://codeclimate.com/github/rofrischmann/react-woodworm/badges/coverage.svg"></a> <img alt="npm downloads" src="https://img.shields.io/npm/dm/react-woodworm.svg"> <img alt="gzipped size" src="https://img.shields.io/bundlephobia/minzip/react-woodworm.svg?colorB=4c1&amp;label=gzipped%20size"> <img alt="npm version" src="https://badge.fury.io/js/react-woodworm.svg"></p>
<h2 id="support-me">Support Me</h2>
<p>If you&apos;re using <a href="https://rofrischmann.de" _target="blank">Robin Frischmann</a>&apos;s packages, please consider supporting his <a href="https://github.com/rofrischmann" _target="blank">Open Source Work</a> on <a href="https://www.patreon.com/rofrischmann" _target="blank"><strong>Patreon</strong></a>.</p>
<h2 id="installation">Installation</h2>
<pre class="language-"><code class="lang-sh"><span class="token comment"># yarn</span>
yarn add react-woodworm

<span class="token comment"># npm</span>
<span class="token function">npm</span> i --save react-woodworm
</code></pre>
<blockquote>
<p><strong>Caution</strong>: It requires <code>^react@16.3.0</code> to be present.</p>
</blockquote>
<h2 id="why">Why</h2>
<p>Within React applications, I frequently want to share and update some state without having to pass it down the whole component tree.<br>
Usually you would go with something like Redux, but I dislike the idea to use Redux for small things like showing/hiding a modal. In general, I prefer using Redux <strong>only</strong> for business logic.<br>
With React&apos;s new context API, we get an encapsulated way to share state throughout the whole component tree without having to pass it down and since React 16.3 it even ships a lightweight render-props based component API instead of <code>contextTypes</code>, <code>childContextTypes</code> and <code>getChildContext</code>.</p>
<h2 id="how">How</h2>
<p>Every time we create a store using react-woodworm, it internally uses React&apos;s <code>createContext</code> API to create a Consumer and Provider component. The Provider is then wrapped with a custom Provider component to automatically bind every <code>action</code> to its own <code>setState</code>.</p>
<h2 id="caveats">Caveats</h2>
<p>Right now, every Provider creates its own store. Therefore you cannot use it in multiple places to share the same state. In order to achieve that, you would have to wrap your root component to use it everywhere.</p>
<h2 id="api">API</h2>
<h3 id="createstore">createStore</h3>
<p>Creates a new Provider-Consumer pair given some actions and a state model.<br>
It takes a single options object as parameter that can be configured as described below.</p>
<h4 id="options">Options</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>actions</td>
<td><em>(Object?)</em></td>
<td><em>(optional)</em> a map of actions to modify the state.<br>Actions have the signature <code>(prevState, payload) =&gt; newState</code></td>
</tr>
<tr>
<td>effects</td>
<td><em>(Object?)</em></td>
<td><em>(optional)</em> a map of (async) side effects that alter the state.<br>Effects have the signature <code>(setState, payload) =&gt; setState(prevState =&gt; newState)</code></td>
</tr>
<tr>
<td>model</td>
<td><em>(any?)</em></td>
<td><em>(optional)</em> the initial state shape</td>
</tr>
</tbody>
</table>
<h4 id="returns">Returns</h4>
<p>An object containing both the <code>Provider</code> and the <code>Consumer</code> components.</p>
<h3 id="provider">Provider</h3>
<p>The Provider component that must wrap all inner Consumer in order to correctly pass and update the state.<br></p>
<h4 id="props">Props</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>initialState</td>
<td><em>(Object?)</em></td>
<td><em>(optional)</em> per-Provider initialState that overwrites the default model</td>
</tr>
</tbody>
</table>
<h3 id="consumer">Consumer</h3>
<p>The Consumer component that is used to render something based on the current state and actions.<br>
It requires <code>children</code> to be a function that receives <code>state</code> and <code>actions</code> as parameters.</p>
<h2 id="example">Example</h2>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-woodworm&apos;</span>

<span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  increment<span class="token punctuation">:</span> prevState <span class="token operator">=&gt;</span> prevState <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  decrement<span class="token punctuation">:</span> prevState <span class="token operator">=&gt;</span> prevState <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// It also supports async side effects</span>
<span class="token comment">// this is useful if you e.g. do API calls</span>
<span class="token keyword">const</span> effects <span class="token operator">=</span> <span class="token punctuation">{</span>
  resetAsync<span class="token punctuation">:</span> setState <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token number">1000</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Provider<span class="token punctuation">,</span> Consumer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  model<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  effects
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Consumer<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> actions<span class="token punctuation">,</span> effects<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>state<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>actions<span class="token punctuation">.</span>increment<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>actions<span class="token punctuation">.</span>decrement<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>effects<span class="token punctuation">.</span>resetAsync<span class="token punctuation">}</span><span class="token operator">&gt;</span>Reset after <span class="token number">1</span> second<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Consumer<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre>
<h2 id="license">License</h2>
<p>react-woodworm is licensed under the <a href="http://opensource.org/licenses/MIT" _target="blank">MIT License</a>.<br>
Documentation is licensed under <a href="http://creativecommons.org/licenses/by/4.0/" _target="blank">Creative Common License</a>.<br>
Created with &#x2665; by <a href="http://rofrischmann.de" _target="blank">@rofrischmann</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="docs/Introduction.html" class="navigation navigation-next navigation-unique" aria-label="Next page: 1. Introduction">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Read Me","level":"1.1","depth":1,"next":{"title":"1. Introduction","level":"1.2","depth":1,"path":"docs/Introduction.md","ref":"docs/Introduction.md","articles":[{"title":"1.1. Motivation","level":"1.2.1","depth":2,"path":"docs/introduction/Motivation.md","ref":"docs/introduction/Motivation.md","articles":[]},{"title":"1.2. How It Works","level":"1.2.2","depth":2,"path":"docs/introduction/How.md","ref":"docs/introduction/How.md","articles":[]},{"title":"1.3. Caveats","level":"1.2.3","depth":2,"path":"docs/introduction/Caveats.md","ref":"docs/introduction/Caveats.md","articles":[]},{"title":"1.4. Comparison","level":"1.2.4","depth":2,"path":"docs/introduction/Comparison.md","ref":"docs/introduction/Comparison.md","articles":[]},{"title":"1.5. Ecosystem","level":"1.2.5","depth":2,"path":"docs/introduction/Ecosystem.md","ref":"docs/introduction/Ecosystem.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github","anker-enable","advanced-emoji"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/rofrischmann/react-woodworm/"},"anker-enable":{},"search":{},"lunr":{"maxIndexSize":1000000},"fontsettings":{"theme":"white","family":"sans","size":2},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"base":"https://github.com/rofrischmann/react-woodworm/tree/master","label":"Edit This Page"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Robin Frischmann <robin@rofrischmann.de>","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"react-woodworm","language":"en","gitbook":"*","description":"Official documentation for react-woodworm"},"file":{"path":"README.md","mtime":"2018-07-31T16:48:44.240Z","type":"markdown"},"gitbook":{"version":"3.1.0","time":"2018-08-10T13:45:23.519Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-anker-enable/anker.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

